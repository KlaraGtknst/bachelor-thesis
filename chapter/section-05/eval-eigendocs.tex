\section{\eigendocs{}}\label{sec:evaluation-eigendocs}
% idea 
Assuming the layout holds information about the document type, the first page of each document is used to extract this information.
In the course of working with low-quality versions of the documents to minimize the memory necessary to store them, some documents looked similar.
Therefore, the idea arose to use clustering algorithms to group the documents according to their appearance.

% number of components
In order to determine the optimal number of components used for \eigendocs{} the cumulative explained variance and the reconstruction error are plotted 
as displayed in \autoref{fig:det_n_comp} from \autoref{subsec:eigenface}.
The first plot indicated that 90\% of the variance is explained by 95 components.
Usually, that would have been the number of dimensions of the subspace onto which the documents would have been projected.
However, when working with cluster algorithms like \ac{optics}, the number of dimensions should be reduced even further to achieve valid clusters.
Therefore the reconstruction error with respect to different numbers of components is taken into consideration.

\begin{listing}[htp]
    \begin{minted}{python3}
        sqr_dif = (X_test - X_test_pca_inverse)**2
        reconstr_err.append(np.sqrt(np.mean(sqr_dif))/
            (np.sum(np.abs(1-X_test))/X_test.shape[0])) 
    \end{minted}
    \caption[Adaption of the \ac{rsme}]{
        Adaption of the \ac{rsme} to incorporate the content of the images assuming white pixels do not convey information.
    }
    \label{lst:impl-weighted-rsme}
\end{listing}

The calculation of the reconstruction error is adapted to incorporate the content of the images.
At first sight, the majority of image pixels are white, i.e.\ do not convey any information.
Therefore, the reconstruction error is divided by the portion of non-white pixels. 
The calculation is given in \lst{lst:impl-weighted-rsme}.
The result is displayed in \autoref{fig:det_n_comp}.
The "elbow" points are visible at 13 and 30.
Since the number of components ought to be kept reasonably small, 13 is chosen.


% results
The results of the \eigendocs{} algorithm are displayed in \autoref{fig:preprocessed_docs_eigendocs}.
Assuming that the selection of documents is representative, 
the preprocessing of the documents using \eigendocs{} should have encoded information about the dimensionality of the images.
However, this assumption is not valid since bigger document images exist.
Therefore, the idea of incorporating information about the image's dimensions is not entirely implemented.