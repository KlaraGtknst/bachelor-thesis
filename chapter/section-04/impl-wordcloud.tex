\subsubsection*{Word clouds}\label{subsubsec:impl-wordcloud}

The implementation of \wordcloud{}s in this thesis is based on the Python library \textit{wordcloud} by \citeauthor{wordcloud-dev} \cite{wordcloud-dev}.
This implementation removes English stop words from the text by default.
The input text is split into tokens using a regex.
By default, plurals are removed if their singular version is present and their frequency is added to their singular version.
By default, numbers are not included as tokens.

% custom preprocessing
In order to ensure that the words presented are interpretable, the input text is preprocessed as displayed in \lst{lst:impl-preproc-wordcloud}..
The \texttt{WordNetLemmatizer} from the \texttt{nltk} package is used to ensure the stemmed words exist.

% initialization
A \wordcloud{} is initialized as shown in \lst{lst:impl-wordcloud}.

\begin{listing}[htp]
    \begin{minted}{python3}
        lemmatizer = WordNetLemmatizer()
        tokens = [lemmatizer.lemmatize(token) for token in tokens]
    \end{minted}
    \caption[Custom preprocessing of \wordcloud{} input]
    {Custom preprocessing of \wordcloud{} input.
    }
    \label{lst:impl-preproc-wordcloud}
\end{listing}

\begin{listing}[htp]
    \begin{minted}{python3}
        wordcloud = WordCloud(width=800, height=500, random_state=21, 
            contour_width=3, max_font_size=110, background_color='white', 
            max_words=5000).generate(','.join(tokens))
    \end{minted}
    \caption[Initialization of a \wordcloud{}]
    {Initialization of a \wordcloud{}.
    }
    \label{lst:impl-wordcloud}
\end{listing}

